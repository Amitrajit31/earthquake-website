/*
HTML Imagemapper 10 AJAX
alta4 Geoinformatik 2006
15.12.2006 - 10.0.24
http://www.alta4.com
*/
vd1="divlayer_Con";k14N="pM_Con";G69=170;I1UW=350;L7c0w=20;P1aO=false;Ta4=false;function x993(){cK0(null,null,vd1,null,null,h14G2);cK0(null,null,g_dBCon,null,null,h14G2);cK0(null,null,k14N,null,null,h14G2);wRJN["dBPos"]=new Array(g_viewExt[0]-250,80);wRJN["pMPos"]=new Array((g_viewOff[0]+round(g_viewExt[0]/2)-225),round(g_viewOff[1]+g_viewExt[1]/2-250))}function show_popup(QS52,coords){if(coords==undefined)coords=ti4q(QS52);else coords=_j6NI(coords);var t9Sx=lkF(coords,"screen");var sh41_=coords.join(",")+",4";var w2D9=(g_baseMapExt[0]*E$4())-190;var X820=g_viewOff[0]+g_viewExt[0]-190;if((t9Sx[0]>X820)&&(coords[0]<w2D9))showinmap(QS52,r8s6(),sh41_);else{P1aO=new Array(QS52,r8s6(),coords);element(vd1).innerHTML=_ek(QS52,coords);Id00(QS52);N999(QS52,G69,null)}}function hide_popup(id){P1aO=false;delete_popup(id)}function delete_popup(id){delete_obj(id+"_attlayer")}function W1aG(id,content){if(element(id+"_anchor")){element(id+"_anchor").innerHTML=content}}function ti4q(QS52){var area=element(QS52+"_area");if(area.shape=="poly"||area.shape=="POLY")return lkF(f06(),"map");else return _j6NI(area.coords)}function _ek(id,coords){var t9Sx=lkF(coords,"screen");var B478G=t_O_(t9Sx);var Lg04c="print_item("+id+","+r8s6()+",'"+coords+"')";var mK2l="addto_dash("+id+","+r8s6()+",'"+coords+"')";var F_V="hide_popup('"+id+"');";if(document.all)var e0C="";else var e0C=" style='width:200px; '";var _0DS=D8430(id,"<table "+e0C+"><tr><td>"+l_dataLoading+"</td></tr></table>","",t9Sx[1],t9Sx[0],B478G,false,true,false,true,true,Lg04c,null,mK2l,F_V,"","","","");return _0DS}function t_O_(t9Sx){var w392l=40;var q97=T7um()-w392l;B478G="none";((t9Sx[1]+G69+80)>(q97))?B478G="bottom":B478G="top";return B478G}function N999(id,height,zIndex){if(height!=null)cVdT(id,height);_y4n(id,zIndex);R0S(id)}function Id00(id){if(typeof(C1v$[id])!="object")j0w(id);else W1aG(id,em9l7(id),false)}function cancelPropagation(st5A0){if(!st5A0)var st5A0=window.event;if(st5A0){st5A0.cancelBubble=true;if(st5A0.stopPropagation)st5A0.stopPropagation()}}function D8430(id,content,href,top,left,o6_,H898,_4_$5,GbF20,K7G8L,_YN,print,move,U57n,close,XD5C7,q57,I20_,$nd1L){var t8sJ5=new Array(parseInt(left),parseInt(top));if(o6_=="bottom")t8sJ5[1]-=220;var r70='<div style="position:absolute; left:'+t8sJ5[0]+'px; top:'+t8sJ5[1]+'px; " id="'+id+'_attlayer"><table class="attTableCssStyle" cellspacing="0" cellpadding="0" >';var B8eB='';if(_4_$5&&g_hasPrintKnob)B8eB+='<a href="javascript:'+print+'" ><img onmousedown="cancelPropagation();" onmouseup="cancelPropagation();" src="'+g_designDir+'../design/print.gif" title="'+l_print+'" /></a>';if(GbF20)B8eB+='<a href="javascript:'+$nd1L+'" ><img onmousedown="cancelPropagation();" onmouseup="cancelPropagation();" src="'+g_designDir+'../design/minimize.gif" title="'+l_minimize+'" /></a>';if(K7G8L)B8eB+='<a href="javascript:'+U57n+'" ><img onmousedown="cancelPropagation();" onmouseup="cancelPropagation();" src="'+g_designDir+'../design/pin.gif" title="'+l_addToDashBoard+'" /></a>';if(_YN)B8eB+='<a href="javascript:'+close+'" ><img onmousedown="cancelPropagation();" onmouseup="cancelPropagation();" src="'+g_designDir+'../design/close.gif" title="'+l_close+'" /></a>';if(o6_=="top"){r70+='  <tr>';r70+='    <td><img name="lo_pfeil" src="'+g_designDir+'lo_pfeil.gif" width="1" height="40" alt=""></td>';r70+='    <td onmousedown="'+move+'" onmouseup="'+move+'" colspan="3" style="background:url('+g_designDir+'o_pfeil.gif) repeat-x; "><img name="pfeil_o" src="'+g_designDir+'pfeil_o.gif" width="16" height="40" alt=""><span style="position:absolute; right:5px; top:22px; ">'+B8eB+'</span></td>';r70+='    <td><img name="ro1_pfeil" src="'+g_designDir+'ro1_pfeil.gif" width="1" height="40" alt=""></td>';r70+='    <td><img class="transp" name="ro2_pfeil" src="'+g_designDir+'ro2_pfeil.gif" width="3" height="40" alt=""></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; "></td>';r70+='    <td colspan="3" class="popupContentContainer"><div id="'+id+'_anchor" class="popupContentDiv" >'+content+'</div></td>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; " ></td>';r70+='    <td class="transp" style="background:url('+g_designDir+'r2.gif) repeat-y; "></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td><img name="lu1" src="'+g_designDir+'l.gif" width="1" height="1" alt=""></td>';r70+='    <td colspan="4" style="background:url('+g_designDir+'l.gif) repeat-x; " ></td>';r70+='    <td><img class="transp" name="ru2" src="'+g_designDir+'r2.gif" width="3" height="1" alt=""></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td height="5"></td>';r70+='    <td colspan="5" class="transp" style="background:url('+g_designDir+'u2.gif) repeat-x; "></td>';r70+='  </tr>'}else if(o6_=="bottom"){r70+='  <tr>';r70+='    <td><img src="'+g_designDir+'lo.gif" width="1" height="23" alt=""></td>';r70+='    <td onmousedown="'+move+'" onmouseup="'+move+'" colspan="2" style="background:url('+g_designDir+'o.gif) repeat-x; " ><span style="position:absolute; right:5px; top:4px; ">'+B8eB+'</span></td>';r70+='    <td><img src="'+g_designDir+'lo.gif" width="1" height="23" alt=""></td>';r70+='    <td><img class="transp" src="'+g_designDir+'ro2.gif" width="3" height="23" alt=""></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; "></td>';r70+='    <td colspan="2" class="popupContentContainer"><div id="'+id+'_anchor" class="popupContentDiv" >'+content+'</div></td>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; " ></td>';r70+='    <td class="transp" style="background:url('+g_designDir+'r2.gif) repeat-y; "></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td rowspan="2" ><img name="lu1" src="'+g_designDir+'lu1.gif" width="1" height="18" alt=""></td>';r70+='    <td rowspan="2" class="transp" style="background:url('+g_designDir+'u_pfeil_ganz.gif) repeat-x; " height="1"><img src="'+g_designDir+'pfeil_u.gif" width="16" height="18" alt=""></td>';r70+='    <td class="transp" colspan="2" style="background:url('+g_designDir+'ru.gif) repeat-x; " ></td>';r70+='    <td><img class="transp" name="ru2" src="'+g_designDir+'ru2.gif" width="3" height="18" alt=""></td>';r70+='  </tr>'}else{r70+='  <tr>';r70+='    <td><img src="'+g_designDir+'lo.gif" width="1" height="23" alt=""></td>';r70+='    <td onmousedown="'+move+'" onmouseup="'+move+'" colspan="2" style="background:url('+g_designDir+'o.gif) repeat-x; " ><span style="position:absolute; right:5px; top:4px; ">'+B8eB+'</span></td>';r70+='    <td><img src="'+g_designDir+'lo.gif" width="1" height="23" alt=""></td>';r70+='    <td><img class="transp" src="'+g_designDir+'ro2.gif" width="3" height="23" alt=""></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; "></td>';r70+='    <td colspan="2" class="popupContentContainer"><div id="'+id+'_anchor" class="popupContentDiv" >'+content+'</div></td>';r70+='    <td style="background:url('+g_designDir+'l.gif) repeat-y; " ></td>';r70+='    <td class="transp" style="background:url('+g_designDir+'r2.gif) repeat-y; "></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td><img name="lu1" src="'+g_designDir+'l.gif" width="1" height="1" alt=""></td>';r70+='    <td colspan="3" style="background:url('+g_designDir+'l.gif) repeat-x; " ></td>';r70+='    <td><img class="transp" name="ru2" src="'+g_designDir+'r2.gif" width="3" height="1" alt=""></td>';r70+='  </tr>';r70+='  <tr>';r70+='    <td height="5"></td>';r70+='    <td colspan="4" class="transp" style="background:url('+g_designDir+'u2.gif) repeat-x; "></td>';r70+='  </tr>'}r70+="</table></div>";return r70}function _y4n(id,index){if(element(id+"_attlayer")){var _$1J=element(id+"_attlayer").style;if(index==null)index=d8J0t;_$1J.zIndex=index}}function R0S(id){if(element(id+"_attlayer")){r3Ng(id+"_attlayer");r3Ng(id+"_anchor")}}function hider(id){if(element(id+"_attlayer")){hide(id+"_attlayer");hide(id+"_anchor")}}function cVdT(id,height){if(element(id+"_attlayer")){element(id+"_anchor").style.height=height+"px"}}function Y19VB(id,width){if(element(id+"_attlayer")){element(id+"_anchor").style.width=width+"px"}}function T7um(){var height=-1;if(document.all){if(document.documentElement&&document.documentElement.clientHeight)height=document.documentElement.clientHeight;else height=document.body.clientHeight}else height=window.innerHeight;return height}gwF=new Array();function addto_dash(id,n2I,coords){hide_popup(id);gwF.unshift(new Array(id,n2I,coords,true));G7G()}function removefrom_dash(xCy2){for(var i=0;i<gwF.length;i++){if(gwF[i][0]==xCy2)gwF.splice(i,1)}G7G()}function toggle_detail(id){for(var i=0;i<gwF.length;i++){if(gwF[i][0]==id)gwF[i][3]=!gwF[i][3]}G7G()}function G7G(){if(gwF.length>0){var TrN2="";for(var item in gwF){var mtwk_=gwF[item];var id=mtwk_[0];var e17_=em9l7(id,mtwk_[3]);bENS6="showinmap("+id+","+mtwk_[1]+",'"+mtwk_[2]+"');";var v2NW="noDetail.gif";if(mtwk_[3])v2NW="detail.gif";TrN2+="<p class=\"featureBar\"><a href=\"javascript:"+bENS6+"\"><img src=\""+g_designDir+"crosshair.gif"+"\" alt=\""+l_showInMap+"\" /></a>&nbsp;<a href=\"javascript:toggle_detail('"+id+"');\"><img style=\"border:0px; margin-top:3px; \" src=\""+g_designDir+v2NW+"\" alt=\"\" /></a>&nbsp;<a href=\"javascript:removefrom_dash('"+id+"');\"><img style=\"border:0px; margin-top:3px; \" src=\""+g_designDir+"delete.gif"+"\" alt=\""+l_delete+"\" /></a>&nbsp;</p>";TrN2+=e17_}if(element("dB_attlayer")){W1aG("dB",TrN2);R0S("dB");if(p4LY9("dB_minimized"))minimize_popup("dB",I1UW,null,true,null)}else{var print="print_item('dB');";var move="setposition_dB();drag('dB');";var close="clear_dB();";var position=p4LY9("dBPos");if(position[1]+I1UW>g_viewExt[1]-50)I1UW=g_viewExt[1]-50-position[1];var gBTLG=D8430("dB",TrN2,"",position[1],position[0],"none",true,true,true,false,true,print,move,"",close,"","",l_dashBoard,"minimize_popup('dB',"+I1UW+",null,true,null);");element(g_dBCon).innerHTML+=gBTLG;N999("dB",I1UW,$347k)}}else{clear(element("dB_anchor"));hider("dB")}}function clear_dB(){gwF=new Array();hider("dB")}function minimize_popup(id,height,min,hide,overflow){if(p4LY9(id+"_minimized")){cVdT(id,height);r3Ng(id+'_anchor');U67(id+"_minimized",false);if(overflow!=null)element(id+'_anchor').style.overflow=overflow;if(element(id+"_miniButton"))element(id+"_miniButton").src=g_designDir+"minimize_wo.gif"}else{if(hide)element(id+'_anchor').style.visibility="hidden";if(overflow!=null)element(id+'_anchor').style.overflow="hidden";if(min==null){if(document.all)cVdT(id,1);else cVdT(id,0)}else cVdT(id,min);if(element(id+"_miniButton"))element(id+"_miniButton").src=g_designDir+"maximize_wo.gif";U67(id+"_minimized",true)}}function setposition_dB(){if(Ta4){var _g107=element("dB_attlayer");var g277=new Array(ps83x(_g107.style.left),ps83x(_g107.style.top));U67("dBPos",g277)}}function showinmap(id,n2I,coords){if(coords!=""){var sWc=n2I;var O445c=r8s6();var a_8g=g_zoomFactors[O445c]/g_zoomFactors[sWc];var L0s=_j6NI(coords);var C95w=PL16(L0s,a_8g);var Ad9$=jTf8(C95w);if((Math.abs(Ad9$[0])>(g_viewExt[0])||Math.abs(Ad9$[1])>(g_viewExt[1]))&&(O445c>0)){var T73=O445c-1;var c0MK3=false;while(!c0MK3){var hHp3=g_zoomFactors[T73]/g_zoomFactors[O445c];var i9$6_=PL16(Ad9$,hHp3);if((Math.abs(i9$6_[0])<=(g_viewExt[0])&&Math.abs(i9$6_[1])<=(g_viewExt[1]))||(T73==0))c0MK3=true;else T73--}var xm7O=PL16(new Array(round(Ad9$[0]/2),round(Ad9$[1]/2)),hHp3);var OLLm5=new Array(i9$6_[0]-xm7O[0],i9$6_[1]-xm7O[1]);_3_86("zoom("+(sWc-T73)+", "+(-OLLm5[0])+", "+(-OLLm5[1])+",false)");if(id!=null)_3_86("show_popup("+id+",'"+coords+"');");zoom((T73-O445c),-round(Ad9$[0]/2),-round(Ad9$[1]/2),true)}else{if(id!=null)_3_86("show_popup("+id+",'"+coords+"');");if(sWc==O445c)move(L0s[0],L0s[1],"to");else zoom((sWc-O445c),-Ad9$[0],-Ad9$[1],false)}}}function PL16(coords,l$45){return new Array(coords[0]*l$45,coords[1]*l$45)}function drag(id){if(!Ta4){if(document.all||navigator.appName=="Opera")_n3b(id,true);if(document.all)document.onselectstart=e9rT0;else document.onmousedown=e9rT0;Ta4=true;var K2TB=f06();x6_(id,K2TB[0],K2TB[1])}else{if(document.all||navigator.appName=="Opera")_n3b(id,false);U8O0d();OYV()}}function OYV(){Ta4=false;if(document.all)document.onselectstart=av6;else document.onmousedown=av6}function x6_(id,_Tk95,w4q){if(Ta4){var D3JB=f06();var oq9i=ps83x(element(id+"_attlayer").style.top)+(D3JB[1]-w4q);var _77B=ps83x(element(id+"_attlayer").style.left)+(D3JB[0]-_Tk95);svSsR(element(id+"_attlayer"),new Array(_77B,oq9i),null,null);setTimeout("x6_('"+id+"',"+D3JB[0]+","+D3JB[1]+")",20)}}function $71(QS52,S4_){if(document.all&&navigator.appName!="Opera")QS52.style.setAttribute("filter","alpha(opacity="+(S4_*100)+")");else{if(navigator.appName!="Opera")QS52.style.MozOpacity=S4_;QS52.style.opacity=S4_}}function _n3b(id,A$$C_){if(A$$C_){$71(element(id+"_attlayer"),0.4)}else{$71(element(id+"_attlayer"),1)}}function createPhotoPic(c167,type){var _88j=c167.split("((");var c3pK='<img src="'+_88j[0]+'" />';if(_88j[1]!="")c3pK='<a href="javascript:create_PM(\''+_88j[1]+'\');">'+c3pK+'</a>';return c3pK}function create_PM(src){clear(element(vd1));var _XK=p4LY9("pMPos");if(!element("pM_attlayer"))element(k14N).innerHTML+=D8430("pM",'<img src="'+src+'" />',null,_XK[1],_XK[0],"none",true,false,false,false,true,"","setposition_pM();drag('pM');","","delete_popup('pM');","","",l_photoMapper,"");W1aG("pM",'<img src="'+src+'" />');N999('pM',null,kIJ)}function setposition_pM(){if(Ta4){var N7N93=element("pM_attlayer");var g277=new Array(ps83x(N7N93.style.left),ps83x(N7N93.style.top));U67("pMPos",g277)}}